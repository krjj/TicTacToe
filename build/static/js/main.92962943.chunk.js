(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),o=n.n(i),s=(n(16),n(17),n(5)),l=n(6),d=n(9),c=n(7),u=n(10),h=(n(18),n(8)),m=n.n(h),f=n(1),g=n.n(f);function v(e){var t=e.value,n=e.handleClick,r=e.bgGround;return a.a.createElement("div",{className:"box",style:{backgroundColor:r},onClick:n},t)}function k(e){var t=e.value,n=e.handleClick,r=e.handleReset,i=e.bgGround,o=e.timer;return a.a.createElement("div",{className:"boxCenter",style:{backgroundColor:i},onClick:n},a.a.createElement("button",{className:"resetButton",onClick:function(e){e.stopPropagation(),r()}},"Reset"),a.a.createElement("span",{className:"timerText"},o),t)}var C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(c.a)(t).call(this,e))).state={gridMarker:Array(9).fill(null),gridColor:Array(9).fill(""),IsUserTurn:!0,gameStarted:!1,gameStartedOn:0,gameFinished:!1,gameFinishedOn:0,timerText:"",winMovesX:[],winMovesO:[]},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleGridClick",value:function(e){var t=this,n=this.state,r=n.gridMarker,a=n.gridColor,i=n.gameStarted,o=n.gameFinished,s=n.IsUserTurn;o?alert("Game has finished, reset to play again"):s?(i||this.setState({gameStarted:!0,gameStartedOn:Date.now()}),null===r[e]&&(r[e]="X",a[e]="red",this.setState({gridMarker:r,gridColor:a,IsUserTurn:!1},(function(){return t.checkWinner(r)})))):alert("Wait for your turn")}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t="";e.state.gameStarted&&!e.state.gameFinished&&(t=g.a.utc(Date.now()-e.state.gameStartedOn).format("mm:ss")),e.state.gameFinished&&e.state.gameStarted&&(t=g.a.utc(e.state.gameFinishedOn-e.state.gameStartedOn).format("mm:ss")),e.setState({timerText:t})}),1e3)}},{key:"handleComputerMove",value:function(){var e=this;this.state.IsUserTurn||setTimeout((function(){var t=e.state,n=t.winMovesX,r=t.winMovesO,a=t.gridMarker,i=t.gridColor;if(r.length)a[r[0]]="O",i[r[0]]="red";else if(n.length)a[n[0]]="O",i[n[0]]="red";else if("X"===a[0]&&"X"===a[8]){var o=!1;[7,2,6].forEach((function(e){null===a[e]&&!1===o&&(a[e]="O",i[e]="red",o=!0)}))}else if("X"===a[2]&&"X"===a[6]){var s=!1;[1,8,0].forEach((function(e){null===a[e]&&!1===s&&(a[e]="O",i[e]="red",s=!0)}))}else{var l=!1;if([4,0,2,6,8].forEach((function(e){null===a[e]&&!1===l&&(a[e]="O",i[e]="red",l=!0)})),!l){var d=a.indexOf((function(e){return null==e}));a[d]="O",i[d]="red"}}e.setState({gridMarker:a,gridColor:i,IsUserTurn:!0},(function(){return e.checkWinner(a)}))}),750)}},{key:"handleGameEnd",value:function(e){this.setState({gameFinished:!0,gameFinishedOn:Date.now()})}},{key:"renderGridBlock",value:function(e){var t=this;return a.a.createElement(v,{value:this.state.gridMarker[e],bgGround:this.state.gridColor[e],handleClick:function(){t.handleGridClick(e)}})}},{key:"renderGridBlockCenter",value:function(e){var t=this;return a.a.createElement(k,{value:this.state.gridMarker[e],bgGround:this.state.gridColor[e],timer:this.state.timerText,handleClick:function(){t.handleGridClick(e)},handleReset:function(){t.handleGameReset()}})}},{key:"checkWinner",value:function(e){var t=this,n=null,r=this.state.gridColor,a=[],i=[];[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].forEach((function(o,s){if(e[o[0]]&&e[o[0]]===e[o[1]]&&e[o[0]]===e[o[2]])n=e[o[0]],o.forEach((function(e){r[e]="green"})),t.setState({gridColor:r});else{var l=[e[o[0]],e[o[1]],e[o[2]]],d=0,c=m.a.countBy(l);1===c.null&&(d=o[l.findIndex((function(e){return null===e}))],2===c.X&&i.push(d),2===c.O&&a.push(d),t.setState({winMovesX:i,winMovesO:a}))}})),n?this.handleGameEnd(n):e.includes(null)?this.handleComputerMove():this.handleGameEnd("Draw")}},{key:"handleGameReset",value:function(){this.setState({gridMarker:Array(9).fill(null),gridColor:Array(9).fill(""),IsUserTurn:!0,gameStarted:!1,gameStartedOn:0,gameFinished:!1,gameFinishedOn:0,timerText:"",winMovesX:[],winMovesO:[]})}},{key:"render",value:function(){return a.a.createElement("div",{className:"game-board"},this.renderGridBlock(0),this.renderGridBlock(1),this.renderGridBlock(2),this.renderGridBlock(3),this.renderGridBlockCenter(4),this.renderGridBlock(5),this.renderGridBlock(6),this.renderGridBlock(7),this.renderGridBlock(8))}}]),t}(a.a.Component);var O=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.92962943.chunk.js.map